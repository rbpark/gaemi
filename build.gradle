// Apply these settings to all projects
allprojects {
    apply plugin: 'eclipse'
    apply plugin: 'idea'
}

// Apply these settings to only subprojects
subprojects {
    apply plugin: 'java'
    sourceCompatibility=JavaVersion.VERSION_1_8

    // Force eclipse projects to not use /bin
    eclipse.classpath.defaultOutputDir=file('build/eclipse/classes/main')
  
    repositories {
	mavenLocal()
        mavenCentral()
    }

    dependencies {
        testCompile "junit:junit:4.11"
        testCompile "org.hamcrest:hamcrest-library:1.3"
        testCompile "org.mockito:mockito-all:1.9.0"
    }

    task sourcesJar(type: Jar, dependsOn: classes) {
        classifier = 'sources'
        from sourceSets.main.allSource
    }

    task javadocTask(type: Javadoc) {
        failOnError = false
    }

    task javadocJar(type: Jar, dependsOn: javadocTask) {
        classifier = 'javadoc'
        from javadoc.destinationDir
    }

    artifacts {
        archives sourcesJar
        archives javadocJar
    }

    task wrapper(type: Wrapper) {
        gradleVersion = '2.3'
    }
}
